{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DrDendrite\\\\dev\\\\web_project_api_full\\\\frontend\\\\src\\\\components\\\\EditProfilePopup.js\",\n  _s = $RefreshSig$();\nimport { useState, useContext, useEffect } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditProfilePopup({\n  isOpen,\n  onClose,\n  onUpdateUser\n}) {\n  _s();\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [isSaveButtonDisabled, setIsSaveButtonDisabled] = useState(true);\n  const [nameError, setNameError] = useState(\"\");\n  const [descriptionError, setDescriptionError] = useState(\"\");\n  useEffect(() => {\n    // Reviso que el usuario en el contexto no sea `undefined`\n    if (currentUser.name !== undefined || currentUser.about !== undefined) {\n      setName(currentUser.name || '');\n      setDescription(currentUser.about || '');\n    }\n  }, [currentUser]);\n  useEffect(() => {\n    // Verificar si los campos de entrada están vacíos o no\n    setIsSaveButtonDisabled(!name || !description || name.length < 2 || description.length < 2);\n  }, [name, description]);\n  function handleOnChange(evt) {\n    const {\n      name,\n      value\n    } = evt.target;\n    if (name === \"name\") {\n      setName(value);\n      if (value.length < 2) {\n        setNameError(\"El nombre debe tener al menos 2 caracteres\");\n      } else {\n        setNameError(\"\");\n      }\n    } else {\n      setDescription(value);\n      if (value.length < 2) {\n        setDescriptionError(\"La descripción debe tener al menos 2 caracteres\");\n      } else {\n        setDescriptionError(\"\");\n      }\n    }\n  }\n  function handleSubmit(e) {\n    // Evita que el navegador navegue hacia la dirección del formulario\n    e.preventDefault();\n\n    // Limpiando los inputs\n    setName(\"\");\n    setDescription(\"\");\n\n    // Pasa los valores de los componentes gestionados al controlador externo\n    onUpdateUser({\n      name: name,\n      about: description\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    isOpen: isOpen,\n    name: \"profile\",\n    title: \"Editar perfil\",\n    onClose: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"form-profile\",\n      className: \"form\",\n      onSubmit: handleSubmit,\n      noValidate: true,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleOnChange,\n        className: \"form__user-box\",\n        id: \"user-name\",\n        type: \"text\",\n        placeholder: \"Nombre\",\n        minLength: \"2\",\n        maxLength: \"40\",\n        name: \"name\",\n        value: name,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"user-name-error\",\n        children: nameError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleOnChange,\n        className: \"form__user-box\",\n        id: \"user-about\",\n        type: \"text\",\n        placeholder: \"Acerca de mi\",\n        minLength: \"2\",\n        maxLength: \"200\",\n        name: \"about\",\n        value: description,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"user-about-error\",\n        children: descriptionError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"form__button-submit\",\n        disabled: isSaveButtonDisabled,\n        children: \"Guardar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(EditProfilePopup, \"Cv587xxEiKk9fZAXXlFhpuYJgfU=\");\n_c = EditProfilePopup;\nexport default EditProfilePopup;\nvar _c;\n$RefreshReg$(_c, \"EditProfilePopup\");","map":{"version":3,"names":["useState","useContext","useEffect","CurrentUserContext","PopupWithForm","jsxDEV","_jsxDEV","EditProfilePopup","isOpen","onClose","onUpdateUser","_s","currentUser","name","setName","description","setDescription","isSaveButtonDisabled","setIsSaveButtonDisabled","nameError","setNameError","descriptionError","setDescriptionError","undefined","about","length","handleOnChange","evt","value","target","handleSubmit","e","preventDefault","title","children","id","className","onSubmit","noValidate","onChange","type","placeholder","minLength","maxLength","required","fileName","_jsxFileName","lineNumber","columnNumber","disabled","_c","$RefreshReg$"],"sources":["C:/Users/DrDendrite/dev/web_project_api_full/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import { useState,useContext,useEffect } from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\"\nimport PopupWithForm from \"./PopupWithForm\";\nfunction EditProfilePopup({isOpen,onClose,onUpdateUser}) {\n\n  const currentUser = useContext(CurrentUserContext);\n  const [name,setName] = useState(\"\");\n  const [description,setDescription] = useState(\"\");\n  const [isSaveButtonDisabled, setIsSaveButtonDisabled] = useState(true);\n  const [nameError, setNameError] = useState(\"\");\n  const [descriptionError, setDescriptionError] = useState(\"\");\n\n\n  useEffect(() => {\n    // Reviso que el usuario en el contexto no sea `undefined`\n    if (currentUser.name !== undefined || currentUser.about !== undefined) {\n      setName(currentUser.name || '');\n      setDescription(currentUser.about || '');\n    }\n  }, [currentUser]);\n\n  useEffect(() => {\n    // Verificar si los campos de entrada están vacíos o no\n    setIsSaveButtonDisabled(!name || !description || name.length < 2 || description.length < 2);\n  }, [name, description]);\n\n  function handleOnChange(evt) {\n    const { name, value } = evt.target;\n    if (name === \"name\") {\n      setName(value);\n      if (value.length < 2) {\n        setNameError(\"El nombre debe tener al menos 2 caracteres\");\n      } else {\n        setNameError(\"\");\n      }\n    } else {\n      setDescription(value);\n      if (value.length < 2) {\n        setDescriptionError(\"La descripción debe tener al menos 2 caracteres\");\n      } else {\n        setDescriptionError(\"\");\n      }\n    }\n  }\n\n  function handleSubmit(e) {\n    // Evita que el navegador navegue hacia la dirección del formulario\n    e.preventDefault();\n    \n    // Limpiando los inputs\n    setName(\"\");\n    setDescription(\"\");\n    \n    // Pasa los valores de los componentes gestionados al controlador externo\n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      name={\"profile\"}\n      title={\"Editar perfil\"}\n      onClose={onClose}\n    >\n      <form id=\"form-profile\" className=\"form\" onSubmit={handleSubmit} noValidate>\n        <input\n          onChange={handleOnChange}\n          className=\"form__user-box\"\n          id=\"user-name\"\n          type=\"text\"\n          placeholder=\"Nombre\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          name=\"name\"\n          value={name}\n          required\n        />\n        <span className=\"user-name-error\">{nameError}</span>\n        <input\n          onChange={handleOnChange}\n          className=\"form__user-box\"\n          id=\"user-about\"\n          type=\"text\"\n          placeholder=\"Acerca de mi\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          name=\"about\"\n          value={description}\n          required\n        />\n        <span className=\"user-about-error\">{descriptionError}</span>\n        <button type=\"submit\" className=\"form__button-submit\" disabled={isSaveButtonDisabled}>\n          Guardar\n        </button>\n      </form>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}