{"ast":null,"code":"import _slicedToArray from\"C:/Users/DrDendrite/dev/web_project_api_full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import PopupWithForm from\"./PopupWithForm\";import Input from\"./Input\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=useContext(CurrentUserContext);var _useState=useState(currentUser===null||currentUser===void 0?void 0:currentUser.name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(currentUser===null||currentUser===void 0?void 0:currentUser.about),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var handleNameChange=function handleNameChange(evt){setName(evt.target.value);};var handleDescriptionChange=function handleDescriptionChange(evt){setDescription(evt.target.value);};var handleSubmit=function handleSubmit(){if(!name||!description){alert(\"Nombre y Profesión Requerido\");return;}onUpdateUser({name:name,about:description}).then(function(){onClose();});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(PopupWithForm,{title:\"Editar Perfil\",className:\"popup\",id:\"edit-profile-form\",nameBtn:\"Editar\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Input,{type:\"text\",className:\"popup__container-input\",placeholder:\"Nombre\",value:name,id:\"name\",maxLength:\"40\",onChange:handleNameChange,children:/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error name-error\"})}),/*#__PURE__*/_jsx(Input,{type:\"text\",className:\"popup__container-input\",placeholder:\"Profesi\\xF3n\",value:description,id:\"about-me\",maxLength:\"200\",onChange:handleDescriptionChange,children:/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error about-me-error\"})})]})});}export default EditProfilePopup;","map":{"version":3,"names":["React","useContext","useState","PopupWithForm","Input","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","currentUser","_useState","name","_useState2","_slicedToArray","setName","_useState3","about","_useState4","description","setDescription","handleNameChange","evt","target","value","handleDescriptionChange","handleSubmit","alert","then","children","title","className","id","nameBtn","onSubmit","type","placeholder","maxLength","onChange"],"sources":["C:/Users/DrDendrite/dev/web_project_api_full/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"./Input\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = useState(currentUser?.name);\n  const [description, setDescription] = useState(currentUser?.about);\n\n  const handleNameChange = (evt) => {\n    setName(evt.target.value);\n  };\n\n  const handleDescriptionChange = (evt) => {\n    setDescription(evt.target.value);\n  };\n\n  const handleSubmit = () => {\n    if (!name || !description) {\n      alert(\"Nombre y Profesión Requerido\");\n      return;\n    }\n\n    onUpdateUser({\n      name: name,\n      about: description,\n    }).then(() => {\n      onClose();\n    });\n  };\n\n  return (\n    <>\n      <PopupWithForm\n        title={\"Editar Perfil\"}\n        className=\"popup\"\n        id=\"edit-profile-form\"\n        nameBtn=\"Editar\"\n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n      >\n        <Input\n          type=\"text\"\n          className=\"popup__container-input\"\n          placeholder=\"Nombre\"\n          value={name}\n          id=\"name\"\n          maxLength=\"40\"\n          onChange={handleNameChange}\n        >\n          <span className=\"popup__input-error name-error\"></span>\n        </Input>\n\n        <Input\n          type=\"text\"\n          className=\"popup__container-input\"\n          placeholder=\"Profesión\"\n          value={description}\n          id=\"about-me\"\n          maxLength=\"200\"\n          onChange={handleDescriptionChange}\n        >\n          <span className=\"popup__input-error about-me-error\"></span>\n        </Input>\n      </PopupWithForm>\n    </>\n  );\n}\n\nexport default EditProfilePopup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}