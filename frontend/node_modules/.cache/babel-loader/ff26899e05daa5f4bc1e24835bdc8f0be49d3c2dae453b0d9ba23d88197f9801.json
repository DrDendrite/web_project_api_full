{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DrDendrite\\\\dev\\\\web_project_api_full\\\\frontend\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport FormUser from \"./FormUser\";\nimport Header from \"./Header\";\nimport InfoTooltip from './InfoTooltip';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport * as auth from '../utils/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Login({\n  isUserLogged\n}) {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // States\n  const [successRegister, setSuccessRegister] = useState(false);\n  const [shoulBeInfoOpen, setShouldBeInfoOpen] = useState(false);\n  const [userCredentials, setUserCredentials] = useState({\n    email: '',\n    password: ''\n  });\n\n  // funcion para Cerrar Tooltip\n  function closeInfoTooltip() {\n    setShouldBeInfoOpen(false);\n  }\n\n  // funcion para abrir el Info Tooltip si el registro fue exitoso\n  useEffect(() => {\n    if (location.state === 'success') {\n      setSuccessRegister(true);\n      setShouldBeInfoOpen(true);\n    }\n  }, [location.state]);\n\n  // Manipulacion del los valores de los inputs\n  function handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setUserCredentials({\n      ...userCredentials,\n      [name]: value\n    });\n  }\n  ;\n\n  //Manipulacion del submit del Formulario\n  function handleSubmit(event) {\n    event.preventDefault();\n    console.log('submit login front', userCredentials);\n    if (!userCredentials.email || !userCredentials.password) {\n      return;\n    }\n    console.log('submit oo', userCredentials);\n    auth.authorize(userCredentials.email, userCredentials.password).then(data => {\n      console.log('datos recibidos from authorize', userCredentials, data);\n      if (data.token) {\n        setUserCredentials({\n          email: '',\n          password: ''\n        });\n        isUserLogged();\n        navigate('/');\n      }\n    }).catch(error => console.log(error));\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      linkRoute: \"/signup\",\n      signText: 'Registrate'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormUser, {\n      title: \"Inicia sesion\",\n      buttonText: \"Inicia sesion\",\n      linkSpan: \"/signup\",\n      linkText: \"¿Aún no eres miembro? Regístrate aquí\",\n      onSubmit: handleSubmit,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InfoTooltip, {\n      isSuccess: successRegister,\n      isOpen: shoulBeInfoOpen,\n      name: \"tooltip\",\n      onClose: closeInfoTooltip\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Login, \"JZ3ep4AmgL02uzW7iuelpHKhtXw=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","FormUser","Header","InfoTooltip","useLocation","useNavigate","auth","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","isUserLogged","_s","navigate","location","successRegister","setSuccessRegister","shoulBeInfoOpen","setShouldBeInfoOpen","userCredentials","setUserCredentials","email","password","closeInfoTooltip","state","handleChange","event","name","value","target","handleSubmit","preventDefault","console","log","authorize","then","data","token","catch","error","children","linkRoute","signText","fileName","_jsxFileName","lineNumber","columnNumber","title","buttonText","linkSpan","linkText","onSubmit","onChange","isSuccess","isOpen","onClose","_c","$RefreshReg$"],"sources":["C:/Users/DrDendrite/dev/web_project_api_full/frontend/src/components/Login.js"],"sourcesContent":["import React,{useEffect, useState} from 'react'\nimport FormUser from \"./FormUser\";\nimport Header from \"./Header\";\nimport InfoTooltip from './InfoTooltip'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport *as auth from '../utils/auth'\n\nfunction Login({isUserLogged}) {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // States\n  const[successRegister, setSuccessRegister] = useState(false)\n  const[shoulBeInfoOpen, setShouldBeInfoOpen] = useState(false)\n  const [userCredentials, setUserCredentials] = useState({\n    email: '',\n    password: '',\n  });\n\n  // funcion para Cerrar Tooltip\n  function closeInfoTooltip(){\n    setShouldBeInfoOpen(false)\n  }\n\n  // funcion para abrir el Info Tooltip si el registro fue exitoso\n  useEffect(()=>{\n    if(location.state === 'success'){\n      setSuccessRegister(true)\n      setShouldBeInfoOpen(true)\n    }\n  },[location.state]);\n\n  // Manipulacion del los valores de los inputs\n  function handleChange(event){\n    const {name, value} = event.target\n    setUserCredentials({\n      ...userCredentials, [name]: value\n    })\n\n  };\n\n  //Manipulacion del submit del Formulario\n  function handleSubmit(event){\n    event.preventDefault()\n    console.log('submit login front', userCredentials)\n    if(!userCredentials.email || !userCredentials.password){\n      return \n    }\n    console.log('submit oo',userCredentials)\n      auth\n        .authorize(userCredentials.email, userCredentials.password)\n        .then((data)=>{\n          console.log('datos recibidos from authorize', userCredentials,data);\n          if(data.token){\n            setUserCredentials({\n              email: '',\n              password: ''\n            });\n            isUserLogged();\n            navigate('/');\n          }\n        })\n        .catch((error)=> console.log(error));\n    \n  }\n  return (\n    <>\n      <Header\n      linkRoute={\"/signup\"}\n      signText={'Registrate'}\n      />\n      <FormUser\n      title={\"Inicia sesion\"}\n      buttonText={\"Inicia sesion\"}\n      linkSpan={\"/signup\"}\n      linkText={\"¿Aún no eres miembro? Regístrate aquí\"}\n      onSubmit={handleSubmit}\n      onChange={handleChange}\n      >\n      </FormUser>\n      <InfoTooltip\n        isSuccess={successRegister}\n        isOpen={shoulBeInfoOpen}\n        name={\"tooltip\"}\n        onClose={closeInfoTooltip}\n      />\n    </>\n  );\n}\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}