{"ast":null,"code":"import iconDelete from\"../images/icon-delete.png\";import btnLike from\"../images/btn-like.png\";import{CurrentUserContext}from\"../contexts/CurrentUserContext.js\";import{useContext}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Card(_ref){var name=_ref.name,link=_ref.link,likes=_ref.likes,onCardClick=_ref.onCardClick,owner=_ref.owner,onCardLike=_ref.onCardLike,onCardDelete=_ref.onCardDelete;var handleClick=function handleClick(){onCardClick({name:name,link:link});};var handleCardLike=function handleCardLike(){onCardLike();};var handlePopupConfirmation=function handlePopupConfirmation(){onCardDelete();};var currentUser=useContext(CurrentUserContext);var isOwner=owner===(currentUser===null||currentUser===void 0?void 0:currentUser._id);var isLike=Array.isArray(likes)&&likes.some(function(i){return i===(currentUser===null||currentUser===void 0?void 0:currentUser._id);});var cardDeleteBtnClassName=\"\".concat(isOwner?\"card-elements__container-btn-delete\":\"inactive\");var cardLikeBtnClassName=\"card-elements__container-footing-btn \".concat(isLike?\"card-elements__container-footing-btn_active\":\"card-elements__container-footing-btn_inactive\");return/*#__PURE__*/_jsxs(\"div\",{className:\"card-elements__container\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardDeleteBtnClassName,onClick:handlePopupConfirmation,children:/*#__PURE__*/_jsx(\"img\",{className:\"card-elements__container-icon-delete\",src:iconDelete,alt:\"icon eliminar im\\xE1gen\"})}),/*#__PURE__*/_jsx(\"img\",{className:\"card-elements__container-image\",src:link,alt:name,onClick:handleClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-elements__container-footing\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"card-elements__container-footing-title\",children:[\" \",name,\" \"]}),/*#__PURE__*/_jsx(\"img\",{className:cardLikeBtnClassName,src:btnLike,alt:\"like inactivo\",onClick:handleCardLike}),(likes===null||likes===void 0?void 0:likes.length)!==0&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"span\",{className:\"card-elements__like-counter\",children:likes===null||likes===void 0?void 0:likes.length})})]})]});}export default Card;","map":{"version":3,"names":["iconDelete","btnLike","CurrentUserContext","useContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Card","_ref","name","link","likes","onCardClick","owner","onCardLike","onCardDelete","handleClick","handleCardLike","handlePopupConfirmation","currentUser","isOwner","_id","isLike","Array","isArray","some","i","cardDeleteBtnClassName","concat","cardLikeBtnClassName","className","children","onClick","src","alt","length"],"sources":["C:/Users/DrDendrite/dev/web_project_api_full/frontend/src/components/Card.js"],"sourcesContent":["import iconDelete from \"../images/icon-delete.png\";\nimport btnLike from \"../images/btn-like.png\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport { useContext } from \"react\";\n\nfunction Card({\n  name,\n  link,\n  likes,\n  onCardClick,\n  owner,\n  onCardLike,\n  onCardDelete,\n}) {\n  const handleClick = () => {\n    onCardClick({ name, link });\n  };\n\n  const handleCardLike = () => {\n    onCardLike();\n  };\n\n  const handlePopupConfirmation = () => {\n    onCardDelete();\n  };\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const isOwner = owner === currentUser?._id;\n\n  const isLike =\n    Array.isArray(likes) && likes.some((i) => i === currentUser?._id);\n\n  const cardDeleteBtnClassName = `${\n    isOwner ? \"card-elements__container-btn-delete\" : \"inactive\"\n  }`;\n\n  const cardLikeBtnClassName = `card-elements__container-footing-btn ${\n    isLike\n      ? \"card-elements__container-footing-btn_active\"\n      : \"card-elements__container-footing-btn_inactive\"\n  }`;\n\n  return (\n    <div className=\"card-elements__container\">\n      <button\n        className={cardDeleteBtnClassName}\n        onClick={handlePopupConfirmation}\n      >\n        <img\n          className=\"card-elements__container-icon-delete\"\n          src={iconDelete}\n          alt=\"icon eliminar imÃ¡gen\"\n        />\n      </button>\n      <img\n        className=\"card-elements__container-image\"\n        src={link}\n        alt={name}\n        onClick={handleClick}\n      />\n      <div className=\"card-elements__container-footing\">\n        <h3 className=\"card-elements__container-footing-title\"> {name} </h3>\n        <img\n          className={cardLikeBtnClassName}\n          src={btnLike}\n          alt=\"like inactivo\"\n          onClick={handleCardLike}\n        />\n        {likes?.length !== 0 && (\n          <>\n            <span className=\"card-elements__like-counter\">{likes?.length}</span>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}