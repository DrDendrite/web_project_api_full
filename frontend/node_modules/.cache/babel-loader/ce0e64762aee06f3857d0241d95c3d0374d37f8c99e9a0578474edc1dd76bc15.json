{"ast":null,"code":"import _slicedToArray from\"C:/Users/DrDendrite/dev/web_project_api_full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import PopupWithForm from\"./PopupWithForm.js\";import Input from\"./Input.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),avatar=_useState2[0],setAvatar=_useState2[1];var handleChangeAvatar=function handleChangeAvatar(evt){setAvatar(evt.target.value);};var handleCleanInputOnClose=function handleCleanInputOnClose(){onClose();setAvatar(\"\");};var handleSubmit=function handleSubmit(){if(!avatar){alert(\"Campo requerido\");return;}var imageRegex=/\\.(jpeg|jpg|gif|png|bmp|svg|webp)$/i;if(!imageRegex.test(avatar)){alert(\"La URL no es una URL de imagen válida\");return;}onUpdateAvatar(avatar).then(function(){setAvatar(\"\");onClose();});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(PopupWithForm,{title:\"Cambiar foto de perfil\",className:\"modal-window\",id:\"change-profile\",nameBtn:\"Guardar\",isOpen:isOpen,onClose:handleCleanInputOnClose,onSubmit:handleSubmit,classNameModal:\"modal-window__change-image\",children:/*#__PURE__*/_jsx(Input,{type:\"url\",className:\"modal-window__input-url-change\",placeholder:\"T\\xEDtulo\",id:\"url-change\",value:avatar,onChange:handleChangeAvatar,children:/*#__PURE__*/_jsx(\"span\",{className:\"url-change-error\"})})})});}export default EditAvatarPopup;","map":{"version":3,"names":["React","useState","PopupWithForm","Input","jsx","_jsx","Fragment","_Fragment","EditAvatarPopup","_ref","isOpen","onClose","onUpdateAvatar","_useState","_useState2","_slicedToArray","avatar","setAvatar","handleChangeAvatar","evt","target","value","handleCleanInputOnClose","handleSubmit","alert","imageRegex","test","then","children","title","className","id","nameBtn","onSubmit","classNameModal","type","placeholder","onChange"],"sources":["C:/Users/DrDendrite/dev/web_project_api_full/frontend/src/components/EditAvatarPopup.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport Input from \"./Input.js\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const [avatar, setAvatar] = useState(\"\");\n\n  const handleChangeAvatar = (evt) => {\n    setAvatar(evt.target.value);\n  };\n\n  const handleCleanInputOnClose = () => {\n    onClose();\n    setAvatar(\"\");\n  };\n\n  const handleSubmit = () => {\n    if (!avatar) {\n      alert(\"Campo requerido\");\n      return;\n    }\n\n    const imageRegex = /\\.(jpeg|jpg|gif|png|bmp|svg|webp)$/i;\n\n    if (!imageRegex.test(avatar)) {\n      alert(\"La URL no es una URL de imagen válida\");\n      return;\n    }\n\n    onUpdateAvatar(avatar).then(() => {\n      setAvatar(\"\");\n      onClose();\n    });\n  };\n\n  return (\n    <>\n      <PopupWithForm\n        title={\"Cambiar foto de perfil\"}\n        className=\"modal-window\"\n        id=\"change-profile\"\n        nameBtn=\"Guardar\"\n        isOpen={isOpen}\n        onClose={handleCleanInputOnClose}\n        onSubmit={handleSubmit}\n        classNameModal=\"modal-window__change-image\"\n      >\n        <Input\n          type=\"url\"\n          className=\"modal-window__input-url-change\"\n          placeholder=\"Título\"\n          id=\"url-change\"\n          value={avatar}\n          onChange={handleChangeAvatar}\n        >\n          <span className=\"url-change-error\"></span>\n        </Input>\n      </PopupWithForm>\n    </>\n  );\n}\n\nexport default EditAvatarPopup;\n"],"mappings":"2IAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,aAAa,KAAM,oBAAoB,CAC9C,MAAO,CAAAC,KAAK,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE/B,QAAS,CAAAC,eAAeA,CAAAC,IAAA,CAAsC,IAAnC,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CACxD,IAAAC,SAAA,CAA4BZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IAExB,GAAM,CAAAI,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,GAAG,CAAK,CAClCF,SAAS,CAACE,GAAG,CAACC,MAAM,CAACC,KAAK,CAAC,CAC7B,CAAC,CAED,GAAM,CAAAC,uBAAuB,CAAG,QAA1B,CAAAA,uBAAuBA,CAAA,CAAS,CACpCX,OAAO,CAAC,CAAC,CACTM,SAAS,CAAC,EAAE,CAAC,CACf,CAAC,CAED,GAAM,CAAAM,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB,GAAI,CAACP,MAAM,CAAE,CACXQ,KAAK,CAAC,iBAAiB,CAAC,CACxB,OACF,CAEA,GAAM,CAAAC,UAAU,CAAG,qCAAqC,CAExD,GAAI,CAACA,UAAU,CAACC,IAAI,CAACV,MAAM,CAAC,CAAE,CAC5BQ,KAAK,CAAC,uCAAuC,CAAC,CAC9C,OACF,CAEAZ,cAAc,CAACI,MAAM,CAAC,CAACW,IAAI,CAAC,UAAM,CAChCV,SAAS,CAAC,EAAE,CAAC,CACbN,OAAO,CAAC,CAAC,CACX,CAAC,CAAC,CACJ,CAAC,CAED,mBACEN,IAAA,CAAAE,SAAA,EAAAqB,QAAA,cACEvB,IAAA,CAACH,aAAa,EACZ2B,KAAK,CAAE,wBAAyB,CAChCC,SAAS,CAAC,cAAc,CACxBC,EAAE,CAAC,gBAAgB,CACnBC,OAAO,CAAC,SAAS,CACjBtB,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEW,uBAAwB,CACjCW,QAAQ,CAAEV,YAAa,CACvBW,cAAc,CAAC,4BAA4B,CAAAN,QAAA,cAE3CvB,IAAA,CAACF,KAAK,EACJgC,IAAI,CAAC,KAAK,CACVL,SAAS,CAAC,gCAAgC,CAC1CM,WAAW,CAAC,WAAQ,CACpBL,EAAE,CAAC,YAAY,CACfV,KAAK,CAAEL,MAAO,CACdqB,QAAQ,CAAEnB,kBAAmB,CAAAU,QAAA,cAE7BvB,IAAA,SAAMyB,SAAS,CAAC,kBAAkB,CAAO,CAAC,CACrC,CAAC,CACK,CAAC,CAChB,CAAC,CAEP,CAEA,cAAe,CAAAtB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}