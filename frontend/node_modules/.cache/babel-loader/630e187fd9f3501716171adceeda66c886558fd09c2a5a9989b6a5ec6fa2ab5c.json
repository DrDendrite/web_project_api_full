{"ast":null,"code":"import _slicedToArray from\"C:/Users/DrDendrite/dev/web_project_api_full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import PopupWithForm from\"./PopupWithForm.js\";import Input from\"./Input.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddPlacePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onAddPlaceSubmit=_ref.onAddPlaceSubmit;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),placeName=_useState2[0],setPlaceName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),placeLink=_useState4[0],setPlaceLink=_useState4[1];var handlePlaceNameChange=function handlePlaceNameChange(evt){setPlaceName(evt.target.value);};var handlePlaceLinkChange=function handlePlaceLinkChange(evt){setPlaceLink(evt.target.value);};var handleCleanInputOnClose=function handleCleanInputOnClose(){onClose();setPlaceLink(\"\");setPlaceName(\"\");};var handleSubmit=function handleSubmit(){if(!placeName||!placeLink){alert(\"Campo requerido\");return;}var imageRegex=/\\.(jpeg|jpg|gif|png|bmp|svg|webp)$/i;if(!imageRegex.test(placeLink)){alert(\"La URL no es una URL de imagen válida\");return;}onAddPlaceSubmit({name:placeName,link:placeLink}).then(function(){setPlaceName(\"\");setPlaceLink(\"\");onClose();});};return/*#__PURE__*/_jsxs(PopupWithForm,{title:\"Nuevo Lugar\",className:\"popup\",id:\"add-picture-form\",nameBtn:\"Guardar\",isOpen:isOpen,onClose:handleCleanInputOnClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Input,{type:\"text\",className:\"popup__container-input\",placeholder:\"T\\xEDtulo\",id:\"title-place\",maxLength:\"30\",value:placeName,onChange:handlePlaceNameChange,children:/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error title-place-error\"})}),/*#__PURE__*/_jsx(Input,{type:\"url\",className:\"popup__container-input\",placeholder:\"Enlace a la imagen\",id:\"new-image\",value:placeLink,onChange:handlePlaceLinkChange,children:/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error name-error\"})})]});}export default AddPlacePopup;","map":{"version":3,"names":["React","useState","PopupWithForm","Input","jsx","_jsx","jsxs","_jsxs","AddPlacePopup","_ref","isOpen","onClose","onAddPlaceSubmit","_useState","_useState2","_slicedToArray","placeName","setPlaceName","_useState3","_useState4","placeLink","setPlaceLink","handlePlaceNameChange","evt","target","value","handlePlaceLinkChange","handleCleanInputOnClose","handleSubmit","alert","imageRegex","test","name","link","then","title","className","id","nameBtn","onSubmit","children","type","placeholder","maxLength","onChange"],"sources":["C:/Users/DrDendrite/dev/web_project_api_full/frontend/src/components/AddPlacePopup.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport Input from \"./Input.js\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlaceSubmit }) {\n  const [placeName, setPlaceName] = useState(\"\");\n  const [placeLink, setPlaceLink] = useState(\"\");\n\n  const handlePlaceNameChange = (evt) => {\n    setPlaceName(evt.target.value);\n  };\n\n  const handlePlaceLinkChange = (evt) => {\n    setPlaceLink(evt.target.value);\n  };\n\n  const handleCleanInputOnClose = () => {\n    onClose();\n    setPlaceLink(\"\");\n    setPlaceName(\"\");\n  };\n\n  const handleSubmit = () => {\n    if (!placeName || !placeLink) {\n      alert(\"Campo requerido\");\n      return;\n    }\n\n    const imageRegex = /\\.(jpeg|jpg|gif|png|bmp|svg|webp)$/i;\n\n    if (!imageRegex.test(placeLink)) {\n      alert(\"La URL no es una URL de imagen válida\");\n      return;\n    }\n\n    onAddPlaceSubmit({\n      name: placeName,\n      link: placeLink,\n    }).then(() => {\n      setPlaceName(\"\");\n      setPlaceLink(\"\");\n      onClose();\n    });\n  };\n  return (\n    <PopupWithForm\n      title={\"Nuevo Lugar\"}\n      className=\"popup\"\n      id=\"add-picture-form\"\n      nameBtn=\"Guardar\"\n      isOpen={isOpen}\n      onClose={handleCleanInputOnClose}\n      onSubmit={handleSubmit}\n    >\n      <Input\n        type=\"text\"\n        className=\"popup__container-input\"\n        placeholder=\"Título\"\n        id=\"title-place\"\n        maxLength=\"30\"\n        value={placeName}\n        onChange={handlePlaceNameChange}\n      >\n        <span className=\"popup__input-error title-place-error\"></span>\n      </Input>\n\n      <Input\n        type=\"url\"\n        className=\"popup__container-input\"\n        placeholder=\"Enlace a la imagen\"\n        id=\"new-image\"\n        value={placeLink}\n        onChange={handlePlaceLinkChange}\n      >\n        <span className=\"popup__input-error name-error\"></span>\n      </Input>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}